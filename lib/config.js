"use strict";
exports.defaults = function() {
  return {
    requireBuildAutoModule: {
      patterns: ["**/*.js"],
      exclude: [/-built.js$/, /reload-client.js$/],
      dontBuild: ["specs", "Specs"],
      plugins: [
        {
          path: "vendor/requirejs-text/text",
          patterns: ["**/*.html"]
        }
      ],
      modules: [
        {
          name: "app/app-built",
          baseUrl: "app",
          include: [],
          patterns: [],
          exclude: [],
          versionOf: "",
          dataMain: "main.js"
        }
      ]
    }
  };
};

exports.placeholder = function() {
  return "\t\n\n  # requireBuildAutoModule:\n    # patterns: []                     # Patterns to match files for inclusion. By default,\n                                       # this matches all javascript files. An alternative\n                                       # is to have this only match your main.js file, and\n                                       # let r.js detect and include any required dependencies\n\n    # exclude: []                      # A list of regexes or strings used to prevent the\n                                       # inclusion of matching files.\n\n    # dontBuild: []                    # A list of module names or baseUrls. Any modules\n                                       # with mathcing names or baseUrls will not be built.\n                                       # The module configs are still generated for use in \n                                       # case the excluded modules are included in another\n                                       # module. By default this excludes spec directories.\n\n    # plugins: [{                      # An array of plugin configs. This allows you to load\n                                       # specific files using requirejs plugins. An example is\n                                       # the text plugin for loading html files.\n\n    #   path: \"\"                       # The path to the plugin to be used. Should be relative\n                                       # to the javascriptsDir. If the file is aliased in your \n                                       # requirejs config, the alias will be used instead.\n\n    #   patterns: []                   # Patterns to match files to be loaded using this plugin.\n                                       # Any files matched for a specific plugin will only be\n                                       # included using that plugin.\n    # }]\n\n    # modules: [{                      # The modules list is dynamically built, but you can\n                                       # add module configs here to override default behaviour.\n                                       # The entries that are automatically added are named as\n                                       # \"folderName/folderName-built\"\n\n    #   name: \"\"                       # Name of the module. If the name matches that of a\n                                       # module specified in the r.js config, that config is\n                                       # augmented using the values generated by this plugin.\n                                       # Otherwise, it creates a new module config that it injects \n                                       # in the r.js config.\n\n    #   baseUrl: \"\"                    # The baseUrl is automatically detected by the plugin,\n                                       # but this allows you to override it if you are setting up\n                                       # up a custom config for this module. The baseUrl is also\n                                       # used to make sure that duplicate modules aren't created\n                                       # for the same folder.\n\n    #   include: []                    # An array of strings used to find other modules to build\n                                       # into this module. Will try to match name or baseUrl.\n\n    #   patterns: []                   # Patterns to match files for inclusion. If not specified\n                                       # here, uses the patterns specified above. Must be\n                                       # specified here or above.\n\n    #   exclude: []                    # List of regexes or strings to prevent files from\n                                       # being included. If not specified here, uses the exclude\n                                       # specified above. Must be specified here or above.\n\n    #   plugins: [{                    # This allows you to specify a differnet set of plugin\n                                       # configs for this specific module. Each config should\n                                       # have a path and a patterns array specified.\n    #   }]\n\n    #   versionOf: \"\"                  # A string used to match the baseUrl or name of another\n                                       # module. If a match is found, this module is built by\n                                       # aliasing all of it's files to the baseUrl of the matched\n                                       # module. If you have a scenario like:\n                                       # moduleC is a version of moduleB is a version of moduleA\n                                       # Then, moduleC's files are aliased to the baseUrl of moduleA\n\n    #   dataMain: \"main.js\"            # The path to the main.js file for this module relative to\n                                       # the baseUrl. This is only used if the module is a versionOf\n                                       # another module, or another module is a versionOf this module.\n                                       # If moduleB is a version of moduleA, and no main.js file is\n                                       # found for moduleB, moduleA's main.js file is coppied into\n                                       # moduleB's baseUrl directory, and path aliases are added\n                                       # to support versioning in non-optimized builds.\n\n    #   includeAliasedFiles: true      # If true, adds the aliased files to the module's include \n                                       # array, causing them to be built into the final module.\n    # }]";
};

exports.validate = function(config, validators) {
  var errors, moduleConfig, pluginConfig, _i, _j, _k, _len, _len1, _len2, _ref, _ref1, _ref2;
  errors = [];
  if (validators.ifExistsIsObject(errors, "requireBuildAutoModule config", config.requireBuildAutoModule)) {
    validators.ifExistsIsArrayOfStrings(errors, "requireBuildAutoModule.patterns", config.requireBuildAutoModule.patterns);
    validators.ifExistsFileExcludeWithRegexAndString(errors, "requireBuildAutoModule.exclude", config.requireBuildAutoModule, config.watch.compiledDir);
    validators.ifExistsIsArrayOfStrings(errors, "requireBuildAutoModule.dontBuild", config.requireBuildAutoModule.dontBuild);
    if (validators.ifExistsIsArrayOfObjects(errors, "requireBuildAutoModule.plugins", config.requireBuildAutoModule.plugins)) {
      _ref = config.requireBuildAutoModule.plugins;
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        pluginConfig = _ref[_i];
        validators.stringMustExist(errors, "requireBuildAutoModule.plugins.path", pluginConfig.path);
        validators.isArrayOfStringsMustExist(errors, "requireBuildAutoModule.plugins.patterns", pluginConfig.patterns);
      }
    }
    if (validators.ifExistsIsArrayOfObjects(errors, "requireBuildAutoModule.modules", config.requireBuildAutoModule.modules)) {
      _ref1 = config.requireBuildAutoModule.modules;
      for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
        moduleConfig = _ref1[_j];
        validators.stringMustExist(errors, "requireBuildAutoModule.modules.name", moduleConfig.name);
        validators.ifExistsIsString(errors, "requireBuildAutoModule.modules.baseUrl", moduleConfig.baseUrl);
        validators.ifExistsIsArrayOfStrings(errors, "requireBuildAutoModule.modules.include", moduleConfig.include);
        if (!validators.ifExistsIsArrayOfStrings(errors, "requireBuildAutoModule.modules.patterns", moduleConfig.patterns)) {
          if (validators.isArrayOfStringsMustExist(errors, "requireBuildAutoModule.patterns", config.requireBuildAutoModule.patterns)) {
            moduleConfig.patterns = config.requireBuildAutoModule.patterns;
          }
        }
        if (!validators.ifExistsFileExcludeWithRegexAndString(errors, "requireBuildAutoModule.modules.exclude", moduleConfig, config.watch.compiledDir)) {
          moduleConfig.exclude = config.requireBuildAutoModule.exclude;
        }
        if (validators.ifExistsIsArrayOfObjects(errors, "requireBuildAutoModule.modules.plugins", moduleConfig.plugins)) {
          _ref2 = moduleConfig.plugins;
          for (_k = 0, _len2 = _ref2.length; _k < _len2; _k++) {
            pluginConfig = _ref2[_k];
            validators.stringMustExist(errors, "requireBuildAutoModule.modules.plugins.path", pluginConfig.path);
            validators.isArrayOfStringsMustExist(errors, "requireBuildAutoModule.modules.plugins.patterns", pluginConfig.patterns);
          }
        } else {
          moduleConfig.plugins = config.requireBuildAutoModule.plugins;
        }
        validators.ifExistsIsString(errors, "requireBuildAutoModule.modules.versionOf", moduleConfig.versionOf);
        if (!validators.ifExistsIsString(errors, "requireBuildAutoModule.modules.dataMain", moduleConfig.dataMain)) {
          moduleConfig.dataMain = "main.js";
        }
        if (!validators.ifExistsIsBoolean(errors, "requireBuildAutoModule.modules.includeAliasedFiles", moduleConfig.includeAliasedFiles)) {
          moduleConfig.includeAliasedFiles = true;
        }
      }
    }
  }
  return errors;
};

//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXHByb2plY3RzXFxtaW1vc2EtbW9kdWxlc1xcbWltb3NhLXJlcXVpcmVidWlsZC1hdXRvbW9kdWxlXFxsaWJcXGNvbmZpZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIkM6XFxwcm9qZWN0c1xcbWltb3NhLW1vZHVsZXNcXG1pbW9zYS1yZXF1aXJlYnVpbGQtYXV0b21vZHVsZVxcc3JjXFxjb25maWcuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLENBQUEsV0FBQTtBQUVBLENBRkEsRUFFbUIsSUFBWixDQUFQLENBQW1CO1NBQ2pCO0NBQUEsQ0FDRSxFQURGLGtCQUFBO0NBQ0UsQ0FBVSxJQUFWLEVBQUEsQ0FBVTtDQUFWLENBQ1MsSUFBVCxDQUFBLEtBQVMsT0FBQTtDQURULENBRVcsSUFBWCxDQUFXLEVBQVg7Q0FGQSxDQUdTLElBQVQsQ0FBQTtTQUFVO0NBQUEsQ0FDRixFQUFOLE1BQUEsa0JBRFE7Q0FBQSxDQUVFLE1BQVYsRUFBQSxDQUFVO1VBRkg7UUFIVDtDQUFBLENBT1MsSUFBVCxDQUFBO1NBQVU7Q0FBQSxDQUNGLEVBQU4sTUFBQSxLQURRO0NBQUEsQ0FFQyxHQUZELEVBRVIsR0FBQTtDQUZRLENBR0MsS0FBVCxHQUFBO0NBSFEsQ0FJRSxNQUFWLEVBQUE7Q0FKUSxDQUtDLEtBQVQsR0FBQTtDQUxRLENBTUcsT0FBWCxDQUFBO0NBTlEsQ0FPRSxNQUFWLENBUFEsQ0FPUjtVQVBPO1FBUFQ7TUFERjtDQURpQjtDQUFBOztBQW1CbkIsQ0FyQkEsRUFxQnNCLElBQWYsRUFBZSxFQUF0QjtDQUFzQixRQUNwQjtDQURvQjs7QUFxRnRCLENBMUdBLENBMEc0QixDQUFULEdBQUEsQ0FBWixDQUFQLENBQW9CLENBQUQ7Q0FDakIsS0FBQSxnRkFBQTtDQUFBLENBQUEsQ0FBUyxHQUFUO0NBQ0EsQ0FBQSxFQUFHLEVBQUEsSUFBVSxNQUFWLE1BQUEsU0FBQTtDQUNELENBQTRDLEVBQTVDLEVBQUEsRUFBQSxFQUFVLFlBQWtHLEVBQTVHLFNBQUE7Q0FBQSxDQUN5RCxFQUF6RCxDQUFzSSxDQUF0SSxJQUFVLENBQVYsV0FBQSxVQUFBLEtBQUE7Q0FEQSxDQUU0QyxFQUE1QyxFQUFBLEdBQUEsQ0FBVSxZQUFtRyxFQUE3RyxVQUFBO0NBQ0EsQ0FBK0MsRUFBL0MsRUFBRyxDQUFBLEdBQVUsWUFBaUcsRUFBM0csUUFBQTtDQUNEO0NBQUEsVUFBQSxnQ0FBQTtpQ0FBQTtDQUNFLENBQW1DLEVBQW5DLEVBQUEsRUFBQSxFQUFVLEVBQTRFLEdBQXRGLHNCQUFBO0NBQUEsQ0FDNkMsSUFBN0MsRUFBQSxFQUFVLEVBQTBGLGFBQXBHLGdCQUFBO0NBRkYsTUFERjtNQUhBO0NBT0EsQ0FBK0MsRUFBL0MsRUFBRyxDQUFBLEdBQVUsWUFBaUcsRUFBM0csUUFBQTtDQUNEO0NBQUEsVUFBQSxtQ0FBQTtrQ0FBQTtDQUNFLENBQW1DLEVBQW5DLEVBQUEsRUFBQSxFQUFVLEVBQTRFLEdBQXRGLHNCQUFBO0NBQUEsQ0FDb0MsSUFBcEMsQ0FBQSxDQUFBLEVBQVUsRUFBZ0YsSUFBMUYsd0JBQUE7Q0FEQSxDQUU0QyxJQUE1QyxDQUFBLENBQUEsRUFBVSxFQUF3RixZQUFsRyxnQkFBQTtBQUNPLENBQVAsQ0FBbUQsRUFBbkQsRUFBTyxFQUFQLEVBQWlCLEVBQXlGLFlBQW5HLGlCQUFBO0NBQ0wsQ0FBZ0QsRUFBN0MsRUFBQSxFQUFBLEVBQUgsWUFBZ0gsR0FBN0csUUFBQTtDQUNELEVBQXdCLEdBQU0sRUFBOUIsSUFBQSxVQUFxRDtZQUZ6RDtVQUhBO0FBTU8sQ0FBUCxDQUFnRSxFQUFoRSxDQUFvSSxDQUE3SCxFQUFQLEVBQWlCLENBQVYsQ0FBQSx5QkFBQSxHQUFBO0NBQ0wsRUFBdUIsR0FBTSxDQUE3QixHQUFBLEVBQVksVUFBd0M7VUFQdEQ7Q0FRQSxDQUErQyxFQUE1QyxFQUFBLENBQUEsQ0FBSCxFQUFhLEVBQXdGLFlBQWxHLGdCQUFBO0NBQ0Q7Q0FBQSxjQUFBLCtCQUFBO3NDQUFBO0NBQ0UsQ0FBbUMsRUFBbkMsRUFBQSxJQUFVLEVBQVYsR0FBQSw4QkFBQTtDQUFBLENBQzZDLElBQTdDLEVBQUEsRUFBVSxFQUFWLGFBQUEsd0JBQUE7Q0FGRixVQURGO01BQUEsSUFBQTtDQUtFLEVBQXVCLEdBQU0sQ0FBN0IsR0FBQSxFQUFZLFVBQXdDO1VBYnREO0NBQUEsQ0Fjb0MsSUFBcEMsRUFBQSxDQUFBLENBQVUsRUFBa0YsSUFBNUYsMEJBQUE7QUFDTyxDQUFQLENBQTJDLEVBQTNDLEVBQU8sRUFBUCxFQUFpQixFQUFpRixJQUEzRix5QkFBQTtDQUNMLEVBQXdCLEtBQXhCLENBQUEsQ0FBQSxFQUFZO1VBaEJkO0FBaUJPLENBQVAsQ0FBNEMsRUFBNUMsRUFBTyxFQUFQLEVBQWlCLEVBQTZGLEtBQXZHLEVBQUEsaUNBQUE7Q0FDTCxFQUFtQyxDQUFuQyxNQUFBLEVBQVksT0FBWjtVQW5CSjtDQUFBLE1BREY7TUFSRjtJQURBO0NBRGlCLFFBZ0NqQjtDQWhDaUIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIlxyXG5cclxuZXhwb3J0cy5kZWZhdWx0cyA9IC0+XHJcbiAgcmVxdWlyZUJ1aWxkQXV0b01vZHVsZTpcclxuICAgIHBhdHRlcm5zOiBbXCIqKi8qLmpzXCJdXHJcbiAgICBleGNsdWRlOiBbLy1idWlsdC5qcyQvLC9yZWxvYWQtY2xpZW50LmpzJC9dXHJcbiAgICBkb250QnVpbGQ6IFtcInNwZWNzXCIsIFwiU3BlY3NcIl1cclxuICAgIHBsdWdpbnM6IFt7XHJcbiAgICAgIHBhdGg6IFwidmVuZG9yL3JlcXVpcmVqcy10ZXh0L3RleHRcIlxyXG4gICAgICBwYXR0ZXJuczogW1wiKiovKi5odG1sXCJdXHJcbiAgICB9XVxyXG4gICAgbW9kdWxlczogW3tcclxuICAgICAgbmFtZTogXCJhcHAvYXBwLWJ1aWx0XCJcclxuICAgICAgYmFzZVVybDogXCJhcHBcIlxyXG4gICAgICBpbmNsdWRlOiBbXVxyXG4gICAgICBwYXR0ZXJuczogW11cclxuICAgICAgZXhjbHVkZTogW11cclxuICAgICAgdmVyc2lvbk9mOiBcIlwiXHJcbiAgICAgIGRhdGFNYWluOiBcIm1haW4uanNcIlxyXG4gICAgfV1cclxuXHJcbmV4cG9ydHMucGxhY2Vob2xkZXIgPSAtPlxyXG4gIFwiXCJcIlxyXG4gIFxcdFxyXG5cclxuICAgICMgcmVxdWlyZUJ1aWxkQXV0b01vZHVsZTpcclxuICAgICAgIyBwYXR0ZXJuczogW10gICAgICAgICAgICAgICAgICAgICAjIFBhdHRlcm5zIHRvIG1hdGNoIGZpbGVzIGZvciBpbmNsdXNpb24uIEJ5IGRlZmF1bHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyB0aGlzIG1hdGNoZXMgYWxsIGphdmFzY3JpcHQgZmlsZXMuIEFuIGFsdGVybmF0aXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBpcyB0byBoYXZlIHRoaXMgb25seSBtYXRjaCB5b3VyIG1haW4uanMgZmlsZSwgYW5kXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBsZXQgci5qcyBkZXRlY3QgYW5kIGluY2x1ZGUgYW55IHJlcXVpcmVkIGRlcGVuZGVuY2llc1xyXG5cclxuICAgICAgIyBleGNsdWRlOiBbXSAgICAgICAgICAgICAgICAgICAgICAjIEEgbGlzdCBvZiByZWdleGVzIG9yIHN0cmluZ3MgdXNlZCB0byBwcmV2ZW50IHRoZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgaW5jbHVzaW9uIG9mIG1hdGNoaW5nIGZpbGVzLlxyXG5cclxuICAgICAgIyBkb250QnVpbGQ6IFtdICAgICAgICAgICAgICAgICAgICAjIEEgbGlzdCBvZiBtb2R1bGUgbmFtZXMgb3IgYmFzZVVybHMuIEFueSBtb2R1bGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyB3aXRoIG1hdGhjaW5nIG5hbWVzIG9yIGJhc2VVcmxzIHdpbGwgbm90IGJlIGJ1aWx0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgVGhlIG1vZHVsZSBjb25maWdzIGFyZSBzdGlsbCBnZW5lcmF0ZWQgZm9yIHVzZSBpbiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGNhc2UgdGhlIGV4Y2x1ZGVkIG1vZHVsZXMgYXJlIGluY2x1ZGVkIGluIGFub3RoZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIG1vZHVsZS4gQnkgZGVmYXVsdCB0aGlzIGV4Y2x1ZGVzIHNwZWMgZGlyZWN0b3JpZXMuXHJcblxyXG4gICAgICAjIHBsdWdpbnM6IFt7ICAgICAgICAgICAgICAgICAgICAgICMgQW4gYXJyYXkgb2YgcGx1Z2luIGNvbmZpZ3MuIFRoaXMgYWxsb3dzIHlvdSB0byBsb2FkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBzcGVjaWZpYyBmaWxlcyB1c2luZyByZXF1aXJlanMgcGx1Z2lucy4gQW4gZXhhbXBsZSBpc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgdGhlIHRleHQgcGx1Z2luIGZvciBsb2FkaW5nIGh0bWwgZmlsZXMuXHJcblxyXG4gICAgICAjICAgcGF0aDogXCJcIiAgICAgICAgICAgICAgICAgICAgICAgIyBUaGUgcGF0aCB0byB0aGUgcGx1Z2luIHRvIGJlIHVzZWQuIFNob3VsZCBiZSByZWxhdGl2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgdG8gdGhlIGphdmFzY3JpcHRzRGlyLiBJZiB0aGUgZmlsZSBpcyBhbGlhc2VkIGluIHlvdXIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyByZXF1aXJlanMgY29uZmlnLCB0aGUgYWxpYXMgd2lsbCBiZSB1c2VkIGluc3RlYWQuXHJcblxyXG4gICAgICAjICAgcGF0dGVybnM6IFtdICAgICAgICAgICAgICAgICAgICMgUGF0dGVybnMgdG8gbWF0Y2ggZmlsZXMgdG8gYmUgbG9hZGVkIHVzaW5nIHRoaXMgcGx1Z2luLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgQW55IGZpbGVzIG1hdGNoZWQgZm9yIGEgc3BlY2lmaWMgcGx1Z2luIHdpbGwgb25seSBiZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgaW5jbHVkZWQgdXNpbmcgdGhhdCBwbHVnaW4uXHJcbiAgICAgICMgfV1cclxuXHJcbiAgICAgICMgbW9kdWxlczogW3sgICAgICAgICAgICAgICAgICAgICAgIyBUaGUgbW9kdWxlcyBsaXN0IGlzIGR5bmFtaWNhbGx5IGJ1aWx0LCBidXQgeW91IGNhblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgYWRkIG1vZHVsZSBjb25maWdzIGhlcmUgdG8gb3ZlcnJpZGUgZGVmYXVsdCBiZWhhdmlvdXIuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBUaGUgZW50cmllcyB0aGF0IGFyZSBhdXRvbWF0aWNhbGx5IGFkZGVkIGFyZSBuYW1lZCBhc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgXCJmb2xkZXJOYW1lL2ZvbGRlck5hbWUtYnVpbHRcIlxyXG5cclxuICAgICAgIyAgIG5hbWU6IFwiXCIgICAgICAgICAgICAgICAgICAgICAgICMgTmFtZSBvZiB0aGUgbW9kdWxlLiBJZiB0aGUgbmFtZSBtYXRjaGVzIHRoYXQgb2YgYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgbW9kdWxlIHNwZWNpZmllZCBpbiB0aGUgci5qcyBjb25maWcsIHRoYXQgY29uZmlnIGlzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBhdWdtZW50ZWQgdXNpbmcgdGhlIHZhbHVlcyBnZW5lcmF0ZWQgYnkgdGhpcyBwbHVnaW4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBPdGhlcndpc2UsIGl0IGNyZWF0ZXMgYSBuZXcgbW9kdWxlIGNvbmZpZyB0aGF0IGl0IGluamVjdHMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBpbiB0aGUgci5qcyBjb25maWcuXHJcblxyXG4gICAgICAjICAgYmFzZVVybDogXCJcIiAgICAgICAgICAgICAgICAgICAgIyBUaGUgYmFzZVVybCBpcyBhdXRvbWF0aWNhbGx5IGRldGVjdGVkIGJ5IHRoZSBwbHVnaW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBidXQgdGhpcyBhbGxvd3MgeW91IHRvIG92ZXJyaWRlIGl0IGlmIHlvdSBhcmUgc2V0dGluZyB1cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgdXAgYSBjdXN0b20gY29uZmlnIGZvciB0aGlzIG1vZHVsZS4gVGhlIGJhc2VVcmwgaXMgYWxzb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgdXNlZCB0byBtYWtlIHN1cmUgdGhhdCBkdXBsaWNhdGUgbW9kdWxlcyBhcmVuJ3QgY3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgZm9yIHRoZSBzYW1lIGZvbGRlci5cclxuXHJcbiAgICAgICMgICBpbmNsdWRlOiBbXSAgICAgICAgICAgICAgICAgICAgIyBBbiBhcnJheSBvZiBzdHJpbmdzIHVzZWQgdG8gZmluZCBvdGhlciBtb2R1bGVzIHRvIGJ1aWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBpbnRvIHRoaXMgbW9kdWxlLiBXaWxsIHRyeSB0byBtYXRjaCBuYW1lIG9yIGJhc2VVcmwuXHJcblxyXG4gICAgICAjICAgcGF0dGVybnM6IFtdICAgICAgICAgICAgICAgICAgICMgUGF0dGVybnMgdG8gbWF0Y2ggZmlsZXMgZm9yIGluY2x1c2lvbi4gSWYgbm90IHNwZWNpZmllZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgaGVyZSwgdXNlcyB0aGUgcGF0dGVybnMgc3BlY2lmaWVkIGFib3ZlLiBNdXN0IGJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBzcGVjaWZpZWQgaGVyZSBvciBhYm92ZS5cclxuXHJcbiAgICAgICMgICBleGNsdWRlOiBbXSAgICAgICAgICAgICAgICAgICAgIyBMaXN0IG9mIHJlZ2V4ZXMgb3Igc3RyaW5ncyB0byBwcmV2ZW50IGZpbGVzIGZyb21cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGJlaW5nIGluY2x1ZGVkLiBJZiBub3Qgc3BlY2lmaWVkIGhlcmUsIHVzZXMgdGhlIGV4Y2x1ZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIHNwZWNpZmllZCBhYm92ZS4gTXVzdCBiZSBzcGVjaWZpZWQgaGVyZSBvciBhYm92ZS5cclxuXHJcbiAgICAgICMgICBwbHVnaW5zOiBbeyAgICAgICAgICAgICAgICAgICAgIyBUaGlzIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBhIGRpZmZlcm5ldCBzZXQgb2YgcGx1Z2luXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBjb25maWdzIGZvciB0aGlzIHNwZWNpZmljIG1vZHVsZS4gRWFjaCBjb25maWcgc2hvdWxkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBoYXZlIGEgcGF0aCBhbmQgYSBwYXR0ZXJucyBhcnJheSBzcGVjaWZpZWQuXHJcbiAgICAgICMgICB9XVxyXG5cclxuICAgICAgIyAgIHZlcnNpb25PZjogXCJcIiAgICAgICAgICAgICAgICAgICMgQSBzdHJpbmcgdXNlZCB0byBtYXRjaCB0aGUgYmFzZVVybCBvciBuYW1lIG9mIGFub3RoZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIG1vZHVsZS4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhpcyBtb2R1bGUgaXMgYnVpbHQgYnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGFsaWFzaW5nIGFsbCBvZiBpdCdzIGZpbGVzIHRvIHRoZSBiYXNlVXJsIG9mIHRoZSBtYXRjaGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBtb2R1bGUuIElmIHlvdSBoYXZlIGEgc2NlbmFyaW8gbGlrZTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIG1vZHVsZUMgaXMgYSB2ZXJzaW9uIG9mIG1vZHVsZUIgaXMgYSB2ZXJzaW9uIG9mIG1vZHVsZUFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIFRoZW4sIG1vZHVsZUMncyBmaWxlcyBhcmUgYWxpYXNlZCB0byB0aGUgYmFzZVVybCBvZiBtb2R1bGVBXHJcblxyXG4gICAgICAjICAgZGF0YU1haW46IFwibWFpbi5qc1wiICAgICAgICAgICAgIyBUaGUgcGF0aCB0byB0aGUgbWFpbi5qcyBmaWxlIGZvciB0aGlzIG1vZHVsZSByZWxhdGl2ZSB0b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgdGhlIGJhc2VVcmwuIFRoaXMgaXMgb25seSB1c2VkIGlmIHRoZSBtb2R1bGUgaXMgYSB2ZXJzaW9uT2ZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGFub3RoZXIgbW9kdWxlLCBvciBhbm90aGVyIG1vZHVsZSBpcyBhIHZlcnNpb25PZiB0aGlzIG1vZHVsZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIElmIG1vZHVsZUIgaXMgYSB2ZXJzaW9uIG9mIG1vZHVsZUEsIGFuZCBubyBtYWluLmpzIGZpbGUgaXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGZvdW5kIGZvciBtb2R1bGVCLCBtb2R1bGVBJ3MgbWFpbi5qcyBmaWxlIGlzIGNvcHBpZWQgaW50b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgbW9kdWxlQidzIGJhc2VVcmwgZGlyZWN0b3J5LCBhbmQgcGF0aCBhbGlhc2VzIGFyZSBhZGRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgdG8gc3VwcG9ydCB2ZXJzaW9uaW5nIGluIG5vbi1vcHRpbWl6ZWQgYnVpbGRzLlxyXG5cclxuICAgICAgIyAgIGluY2x1ZGVBbGlhc2VkRmlsZXM6IHRydWUgICAgICAjIElmIHRydWUsIGFkZHMgdGhlIGFsaWFzZWQgZmlsZXMgdG8gdGhlIG1vZHVsZSdzIGluY2x1ZGUgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBhcnJheSwgY2F1c2luZyB0aGVtIHRvIGJlIGJ1aWx0IGludG8gdGhlIGZpbmFsIG1vZHVsZS5cclxuICAgICAgIyB9XVxyXG4gIFwiXCJcIlxyXG5cclxuZXhwb3J0cy52YWxpZGF0ZSA9IChjb25maWcsIHZhbGlkYXRvcnMpIC0+XHJcbiAgZXJyb3JzID0gW11cclxuICBpZiB2YWxpZGF0b3JzLmlmRXhpc3RzSXNPYmplY3QoZXJyb3JzLCBcInJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUgY29uZmlnXCIsIGNvbmZpZy5yZXF1aXJlQnVpbGRBdXRvTW9kdWxlKVxyXG4gICAgdmFsaWRhdG9ycy5pZkV4aXN0c0lzQXJyYXlPZlN0cmluZ3MoZXJyb3JzLCBcInJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUucGF0dGVybnNcIiwgY29uZmlnLnJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUucGF0dGVybnMpXHJcbiAgICB2YWxpZGF0b3JzLmlmRXhpc3RzRmlsZUV4Y2x1ZGVXaXRoUmVnZXhBbmRTdHJpbmcoZXJyb3JzLCBcInJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUuZXhjbHVkZVwiLCBjb25maWcucmVxdWlyZUJ1aWxkQXV0b01vZHVsZSwgY29uZmlnLndhdGNoLmNvbXBpbGVkRGlyKVxyXG4gICAgdmFsaWRhdG9ycy5pZkV4aXN0c0lzQXJyYXlPZlN0cmluZ3MoZXJyb3JzLCBcInJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUuZG9udEJ1aWxkXCIsIGNvbmZpZy5yZXF1aXJlQnVpbGRBdXRvTW9kdWxlLmRvbnRCdWlsZClcclxuICAgIGlmIHZhbGlkYXRvcnMuaWZFeGlzdHNJc0FycmF5T2ZPYmplY3RzKGVycm9ycywgXCJyZXF1aXJlQnVpbGRBdXRvTW9kdWxlLnBsdWdpbnNcIiwgY29uZmlnLnJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUucGx1Z2lucylcclxuICAgICAgZm9yIHBsdWdpbkNvbmZpZyBpbiBjb25maWcucmVxdWlyZUJ1aWxkQXV0b01vZHVsZS5wbHVnaW5zXHJcbiAgICAgICAgdmFsaWRhdG9ycy5zdHJpbmdNdXN0RXhpc3QoZXJyb3JzLCBcInJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUucGx1Z2lucy5wYXRoXCIsIHBsdWdpbkNvbmZpZy5wYXRoKVxyXG4gICAgICAgIHZhbGlkYXRvcnMuaXNBcnJheU9mU3RyaW5nc011c3RFeGlzdChlcnJvcnMsIFwicmVxdWlyZUJ1aWxkQXV0b01vZHVsZS5wbHVnaW5zLnBhdHRlcm5zXCIsIHBsdWdpbkNvbmZpZy5wYXR0ZXJucylcclxuICAgIGlmIHZhbGlkYXRvcnMuaWZFeGlzdHNJc0FycmF5T2ZPYmplY3RzKGVycm9ycywgXCJyZXF1aXJlQnVpbGRBdXRvTW9kdWxlLm1vZHVsZXNcIiwgY29uZmlnLnJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUubW9kdWxlcylcclxuICAgICAgZm9yIG1vZHVsZUNvbmZpZyBpbiBjb25maWcucmVxdWlyZUJ1aWxkQXV0b01vZHVsZS5tb2R1bGVzXHJcbiAgICAgICAgdmFsaWRhdG9ycy5zdHJpbmdNdXN0RXhpc3QoZXJyb3JzLCBcInJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUubW9kdWxlcy5uYW1lXCIsIG1vZHVsZUNvbmZpZy5uYW1lKVxyXG4gICAgICAgIHZhbGlkYXRvcnMuaWZFeGlzdHNJc1N0cmluZyhlcnJvcnMsIFwicmVxdWlyZUJ1aWxkQXV0b01vZHVsZS5tb2R1bGVzLmJhc2VVcmxcIiwgbW9kdWxlQ29uZmlnLmJhc2VVcmwpXHJcbiAgICAgICAgdmFsaWRhdG9ycy5pZkV4aXN0c0lzQXJyYXlPZlN0cmluZ3MoZXJyb3JzLCBcInJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUubW9kdWxlcy5pbmNsdWRlXCIsIG1vZHVsZUNvbmZpZy5pbmNsdWRlKVxyXG4gICAgICAgIHVubGVzcyB2YWxpZGF0b3JzLmlmRXhpc3RzSXNBcnJheU9mU3RyaW5ncyhlcnJvcnMsIFwicmVxdWlyZUJ1aWxkQXV0b01vZHVsZS5tb2R1bGVzLnBhdHRlcm5zXCIsIG1vZHVsZUNvbmZpZy5wYXR0ZXJucylcclxuICAgICAgICAgIGlmIHZhbGlkYXRvcnMuaXNBcnJheU9mU3RyaW5nc011c3RFeGlzdChlcnJvcnMsIFwicmVxdWlyZUJ1aWxkQXV0b01vZHVsZS5wYXR0ZXJuc1wiLCBjb25maWcucmVxdWlyZUJ1aWxkQXV0b01vZHVsZS5wYXR0ZXJucylcclxuICAgICAgICAgICAgbW9kdWxlQ29uZmlnLnBhdHRlcm5zID0gY29uZmlnLnJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUucGF0dGVybnNcclxuICAgICAgICB1bmxlc3MgdmFsaWRhdG9ycy5pZkV4aXN0c0ZpbGVFeGNsdWRlV2l0aFJlZ2V4QW5kU3RyaW5nKGVycm9ycywgXCJyZXF1aXJlQnVpbGRBdXRvTW9kdWxlLm1vZHVsZXMuZXhjbHVkZVwiLCBtb2R1bGVDb25maWcsIGNvbmZpZy53YXRjaC5jb21waWxlZERpcilcclxuICAgICAgICAgIG1vZHVsZUNvbmZpZy5leGNsdWRlID0gY29uZmlnLnJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUuZXhjbHVkZVxyXG4gICAgICAgIGlmIHZhbGlkYXRvcnMuaWZFeGlzdHNJc0FycmF5T2ZPYmplY3RzKGVycm9ycywgXCJyZXF1aXJlQnVpbGRBdXRvTW9kdWxlLm1vZHVsZXMucGx1Z2luc1wiLCBtb2R1bGVDb25maWcucGx1Z2lucylcclxuICAgICAgICAgIGZvciBwbHVnaW5Db25maWcgaW4gbW9kdWxlQ29uZmlnLnBsdWdpbnNcclxuICAgICAgICAgICAgdmFsaWRhdG9ycy5zdHJpbmdNdXN0RXhpc3QoZXJyb3JzLCBcInJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUubW9kdWxlcy5wbHVnaW5zLnBhdGhcIiwgcGx1Z2luQ29uZmlnLnBhdGgpXHJcbiAgICAgICAgICAgIHZhbGlkYXRvcnMuaXNBcnJheU9mU3RyaW5nc011c3RFeGlzdChlcnJvcnMsIFwicmVxdWlyZUJ1aWxkQXV0b01vZHVsZS5tb2R1bGVzLnBsdWdpbnMucGF0dGVybnNcIiwgcGx1Z2luQ29uZmlnLnBhdHRlcm5zKVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgIG1vZHVsZUNvbmZpZy5wbHVnaW5zID0gY29uZmlnLnJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUucGx1Z2luc1xyXG4gICAgICAgIHZhbGlkYXRvcnMuaWZFeGlzdHNJc1N0cmluZyhlcnJvcnMsIFwicmVxdWlyZUJ1aWxkQXV0b01vZHVsZS5tb2R1bGVzLnZlcnNpb25PZlwiLCBtb2R1bGVDb25maWcudmVyc2lvbk9mKVxyXG4gICAgICAgIHVubGVzcyB2YWxpZGF0b3JzLmlmRXhpc3RzSXNTdHJpbmcoZXJyb3JzLCBcInJlcXVpcmVCdWlsZEF1dG9Nb2R1bGUubW9kdWxlcy5kYXRhTWFpblwiLCBtb2R1bGVDb25maWcuZGF0YU1haW4pXHJcbiAgICAgICAgICBtb2R1bGVDb25maWcuZGF0YU1haW4gPSBcIm1haW4uanNcIlxyXG4gICAgICAgIHVubGVzcyB2YWxpZGF0b3JzLmlmRXhpc3RzSXNCb29sZWFuKGVycm9ycywgXCJyZXF1aXJlQnVpbGRBdXRvTW9kdWxlLm1vZHVsZXMuaW5jbHVkZUFsaWFzZWRGaWxlc1wiLCBtb2R1bGVDb25maWcuaW5jbHVkZUFsaWFzZWRGaWxlcylcclxuICAgICAgICAgIG1vZHVsZUNvbmZpZy5pbmNsdWRlQWxpYXNlZEZpbGVzID0gdHJ1ZVxyXG5cclxuICBlcnJvcnNcclxuIl19
